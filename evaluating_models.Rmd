---
title: "evaluating_models"
author: "Margaret Brickner"
date: "5/20/2021"
output: html_document
---



```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)

library(tidyverse)
library(purrr)
library(lubridate)
```


Develop your own performance metric - Be creative here. Imagine an application of a hydrologic model as a component of an environmental assessment. It could be ecologically related (e.g estimating streamflow during the summer as part of assessing fish habitat quality); water resource management related (e.g estimating total water supply), or something else.



1. Code your metric as a function

```{r performance metric}
# We can delete this section later or just call in our metric function here. Any brilliant ideas about what to consider? 

```


2. Apply to the streamflow data provided in sagerm.txt (multiple model results)

```{r apply to data}

# So I'm not totally clear if we have to compare to our observed table, but it's a way to get dates into the sagerm file, so I just copied over what we did in class. 

sager = read.table("sager.txt", header=T)
head(sager)

# add date from the existing columns of day, month, year
sager = sager %>% mutate(date=make_date(year=year, month=month, day=day))


# now read in the model outputs
sagerm = read.table("sagerm.txt", header = T)
head(sagerm)


sagerm$date = sager$date
sagerm$month = sager$month
sagerm$year = sager$year
sagerm$day = sager$day
sagerm$wy = sager$wy

head(sagerm)

# and we still have observed data from above
# useful to combine by date to make sure that streamflow and observe match

sagerm$obs = sager$obs


```


3.  Find the simulation that gives the best performance (record that and add to the quiz on gauchospace)

```{r best simulation}

```


4. Create a boxplot of your metric applied to sagerm.txt

```{r boxplot}

```


5. Submit metric function and boxplot on gauchospace

```{r}

```

